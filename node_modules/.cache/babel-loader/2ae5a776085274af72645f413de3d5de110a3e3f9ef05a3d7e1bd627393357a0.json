{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axiosDefault from '../config/axios';\nexport const fetchAuctionItems = createAsyncThunk('market/fetchAuctionItems', async ({\n  CategoryCode,\n  ItemName,\n  PageNo,\n  SortBy,\n  SortOrder,\n  ItemGrade\n}, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axiosDefault.post('/markets/items', {\n      Sort: SortBy || 'CURRENT_MIN_PRICE',\n      CategoryCode,\n      ItemName,\n      PageNo,\n      SortCondition: SortOrder || 'ASC',\n      ItemGrade: ItemGrade || ''\n    });\n    return response.data;\n  } catch (error) {\n    if (!error.response) {\n      throw error.message;\n    }\n    return rejectWithValue(error.response.data);\n  }\n});\nconst marketSlice = createSlice({\n  name: 'market',\n  initialState: {\n    items: [],\n    status: 'idle',\n    error: null,\n    pageNo: 0,\n    sortBy: 'CURRENT_MIN_PRICE',\n    // Default sortBy\n    sortOrder: 'ASC',\n    // Default sortOrder\n    itemGrade: '' // Default itemGrade\n  },\n  reducers: {\n    setSortBy: (state, action) => {\n      state.sortBy = action.payload;\n    },\n    setSortOrder: (state, action) => {\n      state.sortOrder = action.payload;\n    },\n    setItemGrade: (state, action) => {\n      state.itemGrade = action.payload;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchAuctionItems.pending, state => {\n      state.status = 'loading';\n    }).addCase(fetchAuctionItems.fulfilled, (state, action) => {\n      state.status = 'succeeded';\n      state.items = action.payload.Items;\n      state.pageNo = action.meta.arg.PageNo;\n    }).addCase(fetchAuctionItems.rejected, (state, action) => {\n      state.status = 'failed';\n      state.error = action.payload;\n    });\n  }\n});\nexport const {\n  setSortBy,\n  setSortOrder,\n  setItemGrade\n} = marketSlice.actions;\nexport default marketSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axiosDefault","fetchAuctionItems","CategoryCode","ItemName","PageNo","SortBy","SortOrder","ItemGrade","rejectWithValue","response","post","Sort","SortCondition","data","error","message","marketSlice","name","initialState","items","status","pageNo","sortBy","sortOrder","itemGrade","reducers","setSortBy","state","action","payload","setSortOrder","setItemGrade","extraReducers","builder","addCase","pending","fulfilled","Items","meta","arg","rejected","actions","reducer"],"sources":["/Users/kangdong-o/Desktop/Project/loa-project/src/store/marketSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport axiosDefault from '../config/axios'\n\nexport const fetchAuctionItems = createAsyncThunk(\n    'market/fetchAuctionItems',\n    async (\n        { CategoryCode, ItemName, PageNo, SortBy, SortOrder, ItemGrade },\n        { rejectWithValue }\n    ) => {\n        try {\n            const response = await axiosDefault.post('/markets/items', {\n                Sort: SortBy || 'CURRENT_MIN_PRICE',\n                CategoryCode,\n                ItemName,\n                PageNo,\n                SortCondition: SortOrder || 'ASC',\n                ItemGrade: ItemGrade || '',\n            })\n            return response.data\n        } catch (error) {\n            if (!error.response) {\n                throw error.message\n            }\n            return rejectWithValue(error.response.data)\n        }\n    }\n)\n\nconst marketSlice = createSlice({\n    name: 'market',\n    initialState: {\n        items: [],\n        status: 'idle',\n        error: null,\n        pageNo: 0,\n        sortBy: 'CURRENT_MIN_PRICE', // Default sortBy\n        sortOrder: 'ASC', // Default sortOrder\n        itemGrade: '', // Default itemGrade\n    },\n    reducers: {\n        setSortBy: (state, action) => {\n            state.sortBy = action.payload\n        },\n        setSortOrder: (state, action) => {\n            state.sortOrder = action.payload\n        },\n        setItemGrade: (state, action) => {\n            state.itemGrade = action.payload\n        },\n    },\n    extraReducers: (builder) => {\n        builder\n            .addCase(fetchAuctionItems.pending, (state) => {\n                state.status = 'loading'\n            })\n            .addCase(fetchAuctionItems.fulfilled, (state, action) => {\n                state.status = 'succeeded'\n                state.items = action.payload.Items\n                state.pageNo = action.meta.arg.PageNo\n            })\n            .addCase(fetchAuctionItems.rejected, (state, action) => {\n                state.status = 'failed'\n                state.error = action.payload\n            })\n    },\n})\n\nexport const { setSortBy, setSortOrder, setItemGrade } = marketSlice.actions\n\nexport default marketSlice.reducer\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,OAAOC,YAAY,MAAM,iBAAiB;AAE1C,OAAO,MAAMC,iBAAiB,GAAGH,gBAAgB,CAC7C,0BAA0B,EAC1B,OACI;EAAEI,YAAY;EAAEC,QAAQ;EAAEC,MAAM;EAAEC,MAAM;EAAEC,SAAS;EAAEC;AAAU,CAAC,EAChE;EAAEC;AAAgB,CAAC,KAClB;EACD,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMT,YAAY,CAACU,IAAI,CAAC,gBAAgB,EAAE;MACvDC,IAAI,EAAEN,MAAM,IAAI,mBAAmB;MACnCH,YAAY;MACZC,QAAQ;MACRC,MAAM;MACNQ,aAAa,EAAEN,SAAS,IAAI,KAAK;MACjCC,SAAS,EAAEA,SAAS,IAAI;IAC5B,CAAC,CAAC;IACF,OAAOE,QAAQ,CAACI,IAAI;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,IAAI,CAACA,KAAK,CAACL,QAAQ,EAAE;MACjB,MAAMK,KAAK,CAACC,OAAO;IACvB;IACA,OAAOP,eAAe,CAACM,KAAK,CAACL,QAAQ,CAACI,IAAI,CAAC;EAC/C;AACJ,CACJ,CAAC;AAED,MAAMG,WAAW,GAAGjB,WAAW,CAAC;EAC5BkB,IAAI,EAAE,QAAQ;EACdC,YAAY,EAAE;IACVC,KAAK,EAAE,EAAE;IACTC,MAAM,EAAE,MAAM;IACdN,KAAK,EAAE,IAAI;IACXO,MAAM,EAAE,CAAC;IACTC,MAAM,EAAE,mBAAmB;IAAE;IAC7BC,SAAS,EAAE,KAAK;IAAE;IAClBC,SAAS,EAAE,EAAE,CAAE;EACnB,CAAC;EACDC,QAAQ,EAAE;IACNC,SAAS,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC1BD,KAAK,CAACL,MAAM,GAAGM,MAAM,CAACC,OAAO;IACjC,CAAC;IACDC,YAAY,EAAEA,CAACH,KAAK,EAAEC,MAAM,KAAK;MAC7BD,KAAK,CAACJ,SAAS,GAAGK,MAAM,CAACC,OAAO;IACpC,CAAC;IACDE,YAAY,EAAEA,CAACJ,KAAK,EAAEC,MAAM,KAAK;MAC7BD,KAAK,CAACH,SAAS,GAAGI,MAAM,CAACC,OAAO;IACpC;EACJ,CAAC;EACDG,aAAa,EAAGC,OAAO,IAAK;IACxBA,OAAO,CACFC,OAAO,CAACjC,iBAAiB,CAACkC,OAAO,EAAGR,KAAK,IAAK;MAC3CA,KAAK,CAACP,MAAM,GAAG,SAAS;IAC5B,CAAC,CAAC,CACDc,OAAO,CAACjC,iBAAiB,CAACmC,SAAS,EAAE,CAACT,KAAK,EAAEC,MAAM,KAAK;MACrDD,KAAK,CAACP,MAAM,GAAG,WAAW;MAC1BO,KAAK,CAACR,KAAK,GAAGS,MAAM,CAACC,OAAO,CAACQ,KAAK;MAClCV,KAAK,CAACN,MAAM,GAAGO,MAAM,CAACU,IAAI,CAACC,GAAG,CAACnC,MAAM;IACzC,CAAC,CAAC,CACD8B,OAAO,CAACjC,iBAAiB,CAACuC,QAAQ,EAAE,CAACb,KAAK,EAAEC,MAAM,KAAK;MACpDD,KAAK,CAACP,MAAM,GAAG,QAAQ;MACvBO,KAAK,CAACb,KAAK,GAAGc,MAAM,CAACC,OAAO;IAChC,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEH,SAAS;EAAEI,YAAY;EAAEC;AAAa,CAAC,GAAGf,WAAW,CAACyB,OAAO;AAE5E,eAAezB,WAAW,CAAC0B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}