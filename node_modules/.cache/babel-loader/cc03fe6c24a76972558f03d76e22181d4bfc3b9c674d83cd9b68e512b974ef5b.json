{"ast":null,"code":"import{useEffect,useState}from'react';import axiosDefault from'../../config/axios';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Events=()=>{const[eventList,setEventList]=useState(null);useEffect(()=>{const fetchEventData=async()=>{try{const response=await axiosDefault.get(\"/news/events\");return response.data;}catch(error){throw error.response;}};fetchEventData().then(response=>setEventList(response)).catch(error=>{switch(error.status){case 503:setEventList([{Title:'로스트아크 게임이 점검중입니다',EndDate:new Date().toISOString().slice(0,10)}]);break;default:console.log(error);}});},[]);const dateFormat=dateTime=>dateTime.slice(0,10).replaceAll('-','.');const recentEvent=startDate=>Math.floor((new Date()-new Date(startDate))/(1000*60*60*24))<=7;console.log(eventList);return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"event-inner\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uB85C\\uC2A4\\uD2B8\\uC544\\uD06C \\uC774\\uBCA4\\uD2B8\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"event-list\",children:eventList===null||eventList===void 0?void 0:eventList.map((event,idx)=>{return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{to:event.Link,target:\"_blank\",title:\"\\uC0C8 \\uD0ED\\uC73C\\uB85C \\uC5F4\\uAE30\",children:[/*#__PURE__*/_jsx(\"div\",{className:['img-box',recentEvent(event.StartDate)?'recent':''].join(' '),children:/*#__PURE__*/_jsx(\"img\",{src:event.Thumbnail,alt:\"\".concat(event.Title,\" \\uC378\\uB124\\uC77C \\uC774\\uBBF8\\uC9C0\")})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-box\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"title\",children:event.Title}),/*#__PURE__*/_jsxs(\"p\",{className:\"date\",children:[\"\\uC774\\uBCA4\\uD2B8 \\uC885\\uB8CC\\uC77C:\",' ',dateFormat(event.EndDate)]})]})]})},\"event_\".concat(idx));})})]})});};export default Events;","map":{"version":3,"names":["useEffect","useState","axiosDefault","Link","jsx","_jsx","jsxs","_jsxs","Events","eventList","setEventList","fetchEventData","response","get","data","error","then","catch","status","Title","EndDate","Date","toISOString","slice","console","log","dateFormat","dateTime","replaceAll","recentEvent","startDate","Math","floor","children","className","map","event","idx","to","target","title","StartDate","join","src","Thumbnail","alt","concat"],"sources":["/Users/kangdong-o/Desktop/Project/loa-project/src/components/events/index.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport axiosDefault from '../../config/axios'\nimport { Link } from 'react-router-dom'\n\nconst Events = () => {\n    const [eventList, setEventList] = useState(null)\n\n    useEffect(() => {\n        const fetchEventData = async () => {\n            try {\n                const response = await axiosDefault.get(`/news/events`)\n                return response.data\n            } catch (error) {\n                throw error.response\n            }\n        }\n        fetchEventData()\n            .then((response) => setEventList(response))\n            .catch((error) => {\n                switch (error.status) {\n                    case 503:\n                        setEventList([\n                            {\n                                Title: '로스트아크 게임이 점검중입니다',\n                                EndDate: new Date().toISOString().slice(0, 10),\n                            },\n                        ])\n                        break\n                    default:\n                        console.log(error)\n                }\n            })\n    }, [])\n\n    const dateFormat = (dateTime) => dateTime.slice(0, 10).replaceAll('-', '.')\n    const recentEvent = (startDate) =>\n        Math.floor(\n            (new Date() - new Date(startDate)) / (1000 * 60 * 60 * 24)\n        ) <= 7\n\n    console.log(eventList)\n\n    return (\n        <section>\n            <div className=\"event-inner\">\n                <h3>로스트아크 이벤트</h3>\n                <ul className=\"event-list\">\n                    {eventList?.map((event, idx) => {\n                        return (\n                            <li key={`event_${idx}`}>\n                                <Link\n                                    to={event.Link}\n                                    target=\"_blank\"\n                                    title=\"새 탭으로 열기\"\n                                >\n                                    <div\n                                        className={[\n                                            'img-box',\n                                            recentEvent(event.StartDate)\n                                                ? 'recent'\n                                                : '',\n                                        ].join(' ')}\n                                    >\n                                        <img\n                                            src={event.Thumbnail}\n                                            alt={`${event.Title} 썸네일 이미지`}\n                                        />\n                                    </div>\n                                    <div className=\"text-box\">\n                                        <p className=\"title\">{event.Title}</p>\n                                        <p className=\"date\">\n                                            이벤트 종료일:{' '}\n                                            {dateFormat(event.EndDate)}\n                                        </p>\n                                    </div>\n                                </Link>\n                            </li>\n                        )\n                    })}\n                </ul>\n            </div>\n        </section>\n    )\n}\n\nexport default Events\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}