{"ast":null,"code":"import{createAsyncThunk,createSlice}from'@reduxjs/toolkit';import axiosDefault from'../config/axios';export const fetchAuctionItems=createAsyncThunk('market/fetchAuctionItems',async(_ref,_ref2)=>{let{CategoryCode,ItemName,PageNo,SortBy,SortOrder,ItemGrade}=_ref;let{rejectWithValue}=_ref2;try{const response=await axiosDefault.post('/markets/items',{Sort:SortBy||'CURRENT_MIN_PRICE',CategoryCode,ItemName,PageNo,SortCondition:SortOrder||'ASC',ItemGrade:ItemGrade||''});return response.data;}catch(error){if(!error.response){throw error.message;}return rejectWithValue(error.response.data);}});const marketSlice=createSlice({name:'market',initialState:{items:[],status:'idle',error:null,pageNo:0,sortBy:'CURRENT_MIN_PRICE',// Default sortBy\nsortOrder:'ASC',// Default sortOrder\nitemGrade:''// Default itemGrade\n},reducers:{setSortBy:(state,action)=>{state.sortBy=action.payload;},setSortOrder:(state,action)=>{state.sortOrder=action.payload;},setItemGrade:(state,action)=>{state.itemGrade=action.payload;}},extraReducers:builder=>{builder.addCase(fetchAuctionItems.pending,state=>{state.status='loading';}).addCase(fetchAuctionItems.fulfilled,(state,action)=>{state.status='succeeded';state.items=action.payload.Items;state.pageNo=action.meta.arg.PageNo;}).addCase(fetchAuctionItems.rejected,(state,action)=>{state.status='failed';state.error=action.payload;});}});export const{setSortBy,setSortOrder,setItemGrade}=marketSlice.actions;export default marketSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axiosDefault","fetchAuctionItems","_ref","_ref2","CategoryCode","ItemName","PageNo","SortBy","SortOrder","ItemGrade","rejectWithValue","response","post","Sort","SortCondition","data","error","message","marketSlice","name","initialState","items","status","pageNo","sortBy","sortOrder","itemGrade","reducers","setSortBy","state","action","payload","setSortOrder","setItemGrade","extraReducers","builder","addCase","pending","fulfilled","Items","meta","arg","rejected","actions","reducer"],"sources":["/Users/kangdong-o/Desktop/Project/loa-project/src/store/marketSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport axiosDefault from '../config/axios'\n\nexport const fetchAuctionItems = createAsyncThunk(\n    'market/fetchAuctionItems',\n    async (\n        { CategoryCode, ItemName, PageNo, SortBy, SortOrder, ItemGrade },\n        { rejectWithValue }\n    ) => {\n        try {\n            const response = await axiosDefault.post('/markets/items', {\n                Sort: SortBy || 'CURRENT_MIN_PRICE',\n                CategoryCode,\n                ItemName,\n                PageNo,\n                SortCondition: SortOrder || 'ASC',\n                ItemGrade: ItemGrade || '',\n            })\n            return response.data\n        } catch (error) {\n            if (!error.response) {\n                throw error.message\n            }\n            return rejectWithValue(error.response.data)\n        }\n    }\n)\n\nconst marketSlice = createSlice({\n    name: 'market',\n    initialState: {\n        items: [],\n        status: 'idle',\n        error: null,\n        pageNo: 0,\n        sortBy: 'CURRENT_MIN_PRICE', // Default sortBy\n        sortOrder: 'ASC', // Default sortOrder\n        itemGrade: '', // Default itemGrade\n    },\n    reducers: {\n        setSortBy: (state, action) => {\n            state.sortBy = action.payload\n        },\n        setSortOrder: (state, action) => {\n            state.sortOrder = action.payload\n        },\n        setItemGrade: (state, action) => {\n            state.itemGrade = action.payload\n        },\n    },\n    extraReducers: (builder) => {\n        builder\n            .addCase(fetchAuctionItems.pending, (state) => {\n                state.status = 'loading'\n            })\n            .addCase(fetchAuctionItems.fulfilled, (state, action) => {\n                state.status = 'succeeded'\n                state.items = action.payload.Items\n                state.pageNo = action.meta.arg.PageNo\n            })\n            .addCase(fetchAuctionItems.rejected, (state, action) => {\n                state.status = 'failed'\n                state.error = action.payload\n            })\n    },\n})\n\nexport const { setSortBy, setSortOrder, setItemGrade } = marketSlice.actions\n\nexport default marketSlice.reducer\n"],"mappings":"AAAA,OAASA,gBAAgB,CAAEC,WAAW,KAAQ,kBAAkB,CAChE,MAAO,CAAAC,YAAY,KAAM,iBAAiB,CAE1C,MAAO,MAAM,CAAAC,iBAAiB,CAAGH,gBAAgB,CAC7C,0BAA0B,CAC1B,MAAAI,IAAA,CAAAC,KAAA,GAGK,IAFD,CAAEC,YAAY,CAAEC,QAAQ,CAAEC,MAAM,CAAEC,MAAM,CAAEC,SAAS,CAAEC,SAAU,CAAC,CAAAP,IAAA,IAChE,CAAEQ,eAAgB,CAAC,CAAAP,KAAA,CAEnB,GAAI,CACA,KAAM,CAAAQ,QAAQ,CAAG,KAAM,CAAAX,YAAY,CAACY,IAAI,CAAC,gBAAgB,CAAE,CACvDC,IAAI,CAAEN,MAAM,EAAI,mBAAmB,CACnCH,YAAY,CACZC,QAAQ,CACRC,MAAM,CACNQ,aAAa,CAAEN,SAAS,EAAI,KAAK,CACjCC,SAAS,CAAEA,SAAS,EAAI,EAC5B,CAAC,CAAC,CACF,MAAO,CAAAE,QAAQ,CAACI,IAAI,CACxB,CAAE,MAAOC,KAAK,CAAE,CACZ,GAAI,CAACA,KAAK,CAACL,QAAQ,CAAE,CACjB,KAAM,CAAAK,KAAK,CAACC,OAAO,CACvB,CACA,MAAO,CAAAP,eAAe,CAACM,KAAK,CAACL,QAAQ,CAACI,IAAI,CAAC,CAC/C,CACJ,CACJ,CAAC,CAED,KAAM,CAAAG,WAAW,CAAGnB,WAAW,CAAC,CAC5BoB,IAAI,CAAE,QAAQ,CACdC,YAAY,CAAE,CACVC,KAAK,CAAE,EAAE,CACTC,MAAM,CAAE,MAAM,CACdN,KAAK,CAAE,IAAI,CACXO,MAAM,CAAE,CAAC,CACTC,MAAM,CAAE,mBAAmB,CAAE;AAC7BC,SAAS,CAAE,KAAK,CAAE;AAClBC,SAAS,CAAE,EAAI;AACnB,CAAC,CACDC,QAAQ,CAAE,CACNC,SAAS,CAAEA,CAACC,KAAK,CAAEC,MAAM,GAAK,CAC1BD,KAAK,CAACL,MAAM,CAAGM,MAAM,CAACC,OAAO,CACjC,CAAC,CACDC,YAAY,CAAEA,CAACH,KAAK,CAAEC,MAAM,GAAK,CAC7BD,KAAK,CAACJ,SAAS,CAAGK,MAAM,CAACC,OAAO,CACpC,CAAC,CACDE,YAAY,CAAEA,CAACJ,KAAK,CAAEC,MAAM,GAAK,CAC7BD,KAAK,CAACH,SAAS,CAAGI,MAAM,CAACC,OAAO,CACpC,CACJ,CAAC,CACDG,aAAa,CAAGC,OAAO,EAAK,CACxBA,OAAO,CACFC,OAAO,CAACnC,iBAAiB,CAACoC,OAAO,CAAGR,KAAK,EAAK,CAC3CA,KAAK,CAACP,MAAM,CAAG,SAAS,CAC5B,CAAC,CAAC,CACDc,OAAO,CAACnC,iBAAiB,CAACqC,SAAS,CAAE,CAACT,KAAK,CAAEC,MAAM,GAAK,CACrDD,KAAK,CAACP,MAAM,CAAG,WAAW,CAC1BO,KAAK,CAACR,KAAK,CAAGS,MAAM,CAACC,OAAO,CAACQ,KAAK,CAClCV,KAAK,CAACN,MAAM,CAAGO,MAAM,CAACU,IAAI,CAACC,GAAG,CAACnC,MAAM,CACzC,CAAC,CAAC,CACD8B,OAAO,CAACnC,iBAAiB,CAACyC,QAAQ,CAAE,CAACb,KAAK,CAAEC,MAAM,GAAK,CACpDD,KAAK,CAACP,MAAM,CAAG,QAAQ,CACvBO,KAAK,CAACb,KAAK,CAAGc,MAAM,CAACC,OAAO,CAChC,CAAC,CAAC,CACV,CACJ,CAAC,CAAC,CAEF,MAAO,MAAM,CAAEH,SAAS,CAAEI,YAAY,CAAEC,YAAa,CAAC,CAAGf,WAAW,CAACyB,OAAO,CAE5E,cAAe,CAAAzB,WAAW,CAAC0B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}